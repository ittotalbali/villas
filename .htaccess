<IfModule mod_rewrite.c>
  Options -MultiViews
  RewriteEngine On
  
  # 1. Bypass PHP project at /villa/property
  RewriteCond %{REQUEST_URI} ^/villa/property/
  RewriteRule ^ - [L]
  
  # 2. Bypass existing files and directories (static assets etc.)
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]
  
  # 3. Rewrite all villa requests to index.html - MORE EXPLICIT PATTERN
  RewriteCond %{REQUEST_URI} ^/villa(/.*)?$
  RewriteCond %{REQUEST_URI} !^/villa/index\.html$
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ /villa/index.html [QSA,L]
  
  # 4. Redirect only the root `/` to `/villa/`
  RewriteCond %{REQUEST_URI} ^/$
  RewriteRule ^$ /villa/ [R=301,L]
</IfModule>